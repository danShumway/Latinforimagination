<script>

	window.canvas_environment.internal_resolution = {"x":500, "y":100};
	var canvas = document.getElementById("background-canvas");
	var ctx = canvas.getContext('2d');

	var draw = function() {
		ctx.clearRect(0, 0, canvas.width, canvas.height);


		for(var x = 0; x < 1000; x++){
		    var y = -Math.pow(x-200, 2)/1500 + .5*x -100;
		    ctx.fillStyle='rgba(80,80,80)';
	        //ctx.fillStyle= 'rgba('+Math.floor(Math.random()*255)+','+Math.floor(Math.random()*255)+','+Math.floor(Math.random()*255)+', .5)';
	        ctx.fillRect(_g(x), _g(y), _g(1), _g(400-y));
		}


		for(var x = 0; x < 1000; x++){
		    var y = -Math.pow(x-240, 2)/1500 + .5*x -100;
	        ctx.fillStyle= 'rgba('+Math.floor(Math.random()*255)+','+Math.floor(Math.random()*255)+','+Math.floor(Math.random()*255)+', .5)';
	        ctx.fillRect(_g(x), _g(y), _g(1), _g(400-y));
		}

		for(var x = 0; x < 1000; x++){
		    var y = -Math.pow(x-300, 2)/1500 + .5*x -100;
		    ctx.fillStyle='rgba(100, 100, 100, .5)';
	        //ctx.fillStyle= 'rgba('+Math.floor(Math.random()*255)+','+Math.floor(Math.random()*255)+','+Math.floor(Math.random()*255)+', .5)';
	        ctx.fillRect(_g(x), _g(y), _g(1), _g(400-y));
		}
	}

	var handler = window._animate(10, draw);
</script>
